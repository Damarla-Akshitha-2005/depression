{% extends 'base.html' %}
{% load static %}

{% block title %}User Login â€” MindScan{% endblock %}

{% block nav_links %}
<li><a href="{% url 'index' %}" id="nav-home">Home</a></li>
<li><a href="{% url 'Login' %}" class="active" id="nav-user">User Login</a></li>
<li><a href="{% url 'Register' %}" id="nav-register">Register</a></li>
<li><a href="{% url 'Register' %}" id="nav-register">Register</a></li>
{% endblock %}

{% block content %}
<div class="auth-page">
	<div class="auth-card">
		<div class="auth-header">
			<div class="auth-icon">ðŸ§ </div>
			<h2>Welcome Back</h2>
			<p>Sign in to your MindScan account</p>
		</div>

		{% if data %}
		<div class="alert alert-danger">
			<i class="fas fa-exclamation-circle"></i> {{ data }}
		</div>
		{% endif %}

		<form name="f1" method="post" action="{% url 'UserLogin' %}" onsubmit="return validate(this);">
			{% csrf_token %}

			<div class="form-group">
				<label class="form-label" for="username">Username</label>
				<div class="input-wrapper">
					<i class="fas fa-user input-icon"></i>
					<input class="form-input" type="text" id="username" name="t1" placeholder="Enter your username"
						autocomplete="username" />
				</div>
			</div>

			<div class="form-group">
				<label class="form-label" for="password">Password</label>
				<div class="input-wrapper">
					<i class="fas fa-lock input-icon"></i>
					<input class="form-input" type="password" id="password" name="t2" placeholder="Enter your password"
						autocomplete="current-password" />
				</div>
			</div>

			<button type="submit" class="form-submit">
				<i class="fas fa-sign-in-alt"></i> &nbsp;Sign In
			</button>
		</form>

		<div class="auth-footer-link">
			Don't have an account? <a href="{% url 'Register' %}">Create one &rarr;</a>
		</div>
	</div>
</div>
{% endblock %}

{% block scripts %}
<script>
	function validate(formObj) {
		if (formObj.t1.value.length === 0) {
			alert("Please enter your Username");
			formObj.t1.focus();
			return false;
		}
		if (formObj.t2.value.length === 0) {
			alert("Please enter your Password");
			formObj.t2.focus();
			return false;
		}
		return true;
	}
</script>
{% endblock %}