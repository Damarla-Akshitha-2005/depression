{% extends 'base.html' %}
{% load static %}

{% block title %}Create Account — MindScan{% endblock %}

{% block nav_links %}
<li><a href="{% url 'index' %}" id="nav-home">Home</a></li>
<li><a href="{% url 'Login' %}" id="nav-user">User Login</a></li>
<li><a href="{% url 'Register' %}" class="active" id="nav-register">Register</a></li>
<li><a href="{% url 'Register' %}" class="active" id="nav-register">Register</a></li>
{% endblock %}

{% block content %}
<div class="auth-page">
	<div class="auth-card" style="max-width:520px;">
		<div class="auth-header">
			<div class="auth-icon">✨</div>
			<h2>Create Account</h2>
			<p>Join MindScan and take control of your mental wellness</p>
		</div>

		{% if data %}
		<div class="alert alert-danger">
			<i class="fas fa-exclamation-circle"></i> {{ data }}
		</div>
		{% endif %}

		<form name="f1" method="post" action="{% url 'Signup' %}" onsubmit="return validate(this);">
			{% csrf_token %}

			<div class="form-group">
				<label class="form-label" for="reg-username">Username</label>
				<div class="input-wrapper">
					<i class="fas fa-user input-icon"></i>
					<input class="form-input" type="text" id="reg-username" name="t1" placeholder="Choose a username"
						autocomplete="username" />
				</div>
			</div>

			<div class="form-group">
				<label class="form-label" for="reg-password">Password</label>
				<div class="input-wrapper">
					<i class="fas fa-lock input-icon"></i>
					<input class="form-input" type="password" id="reg-password" name="t2"
						placeholder="Create a strong password" autocomplete="new-password" />
				</div>
			</div>

			<div class="form-group">
				<label class="form-label" for="reg-contact">Contact Number</label>
				<div class="input-wrapper">
					<i class="fas fa-phone input-icon"></i>
					<input class="form-input" type="text" id="reg-contact" name="t3"
						placeholder="10-digit mobile number" maxlength="10" />
				</div>
			</div>

			<div class="form-group">
				<label class="form-label" for="reg-email">Email Address</label>
				<div class="input-wrapper">
					<i class="fas fa-envelope input-icon"></i>
					<input class="form-input" type="email" id="reg-email" name="t4" placeholder="you@example.com"
						autocomplete="email" />
				</div>
			</div>

			<div class="form-group">
				<label class="form-label" for="reg-address">Address</label>
				<div class="input-wrapper">
					<i class="fas fa-map-marker-alt input-icon"></i>
					<input class="form-input" type="text" id="reg-address" name="t5" placeholder="Your address" />
				</div>
			</div>

			<button type="submit" class="form-submit">
				<i class="fas fa-user-plus"></i> &nbsp;Create Account
			</button>
		</form>

		<div class="auth-footer-link">
			Already have an account? <a href="{% url 'Login' %}">Sign in &rarr;</a>
		</div>
	</div>
</div>
{% endblock %}

{% block scripts %}
<script>
	function validate(formObj) {
		if (formObj.t1.value.length === 0) {
			alert("Please enter a Username");
			formObj.t1.focus(); return false;
		}
		if (formObj.t2.value.length === 0) {
			alert("Please enter a Password");
			formObj.t2.focus(); return false;
		}
		if (formObj.t3.value.length === 0) {
			alert("Please enter your Contact Number");
			formObj.t3.focus(); return false;
		}
		if (!formObj.t3.value.match(/^\d{10}$/)) {
			alert("Please enter a valid 10-digit phone number");
			formObj.t3.focus(); return false;
		}
		if (formObj.t4.value.length === 0) {
			alert("Please enter your Email ID");
			formObj.t4.focus(); return false;
		}
		var filter = /^([a-zA-Z0-9_\.\-])+\@([a-z]+\.)+([a-z]{2,})+$/;
		if (!filter.test(formObj.t4.value)) {
			alert("Please enter a valid email address");
			formObj.t4.focus(); return false;
		}
		if (formObj.t5.value.length === 0) {
			alert("Please enter your Address");
			formObj.t5.focus(); return false;
		}
		return true;
	}
</script>
{% endblock %}